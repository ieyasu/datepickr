"use strict";function DPDate(e,t,a){this.date=void 0!==a?new Date(e,t,a):void 0!==t?new Date(e,t):void 0!==e?new Date(e):new Date}function datepickr(e,t){function a(e){return new datepickr.init(e,t)}if(e.nodeName)return a(e);for(var n=document.querySelectorAll(e),r=[],i=0;i<n.length;i++)r.push(a(n[i]));return 1===r.length?r[0]:r}DPDate.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DPDate.weekdayAbbrevs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DPDate.months=["January","February","March","April","May","June","July","August","September","October","November","December"],DPDate.monthAbbrevs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DPDate.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],DPDate.firstDayOfWeek=0,DPDate.lastDayOfWeek=function(){return(DPDate.firstDayOfWeek+6)%7},DPDate.weekdaysInCalendarOrder=function(){if(DPDate.firstDayOfWeek<0||DPDate.firstDayOfWeek>7)throw"DPDate.firstDayOfWeek is outside range 0-6 ("+DPDate.firstDayOfWeek+")";var e=DPDate.weekdayAbbrevs;return DPDate.firstDayOfWeek>0&&(e=e.slice(DPDate.firstDayOfWeek).concat(e.slice(0,DPDate.firstDayOfWeek))),e},DPDate.prototype={clone:function(){return new DPDate(this.date.getTime())},getYear:function(){return this.date.getFullYear()},getMonth:function(){return this.date.getMonth()},getDay:function(){return this.date.getDate()},getDayOfWeek:function(){return this.date.getDay()},setYear:function(e){return this.date.setFullYear(e),this},setMonth:function(e){return this.date.setMonth(e),this},setDay:function(e){return this.date.setDate(e),this},compare:function(e){return e&&e.date&&e.date.getTime?this.date.getTime()-e.date.getTime():null},isSameDay:function(e){return e&&this.getYear()===e.getYear()&&this.getMonth()===e.getMonth()&&this.getDay()===e.getDay()},isLeapYear:function(){var e=this.getYear();return e%4===0&&e%100!==0||e%400===0},daysThisMonth:function(){return 1===this.getMonth()&&this.isLeapYear()?29:DPDate.daysInMonth[this.getMonth()]},nextDay:function(){return this.date.setDate(this.getDay()+1),this},nextMonth:function(){return this.date.setMonth(this.getMonth()+1),this},prevMonth:function(){return this.date.setMonth(this.getMonth()-1),this},firstOfYear:function(){return new DPDate(this.getYear(),0,1)},lastOfYear:function(){return new DPDate(this.getYear(),11,31)},firstOfMonth:function(){return new DPDate(this.date.getTime()).setDay(1)},lastOfMonth:function(){return new DPDate(this.getYear(),this.getMonth(),this.daysThisMonth())},firstCalendarDay:function(){var e=this.firstOfMonth(),t=(e.getDayOfWeek()+DPDate.firstDayOfWeek)%(DPDate.firstDayOfWeek+7);return t>DPDate.firstDayOfWeek&&e.setDay(e.getDay()-(t-DPDate.firstDayOfWeek)),e},lastCalendarDay:function(){var e=this.lastOfMonth(),t=DPDate.firstDayOfWeek+6,a=(e.getDayOfWeek()+DPDate.firstDayOfWeek)%(DPDate.firstDayOfWeek+7);return t>a&&e.setDay(e.getDay()+(t-a)),e},strftime:function(e){function t(e){switch(e){case"A":return DPDate.weekdays[a.getDayOfWeek()];case"a":return DPDate.weekdayAbbrevs[a.getDayOfWeek()];case"B":return DPDate.months[a.getMonth()];case"b":return DPDate.monthAbbrevs[a.getMonth()];case"d":var t=a.getDay();return 10>t?"0"+t:t;case"e":var t=a.getDay();return 10>t?" "+t:t;case"m":var n=a.getMonth()+1;return 10>n?"0"+n:n;case"s":return Math.round(a.date.getTime()/1e3);case"u":var t=a.getDayOfWeek();return 0==t?7:t;case"w":return a.getDayOfWeek();case"Y":return a.getYear();case"y":return(""+a.date.getFullYear()).substr(2);case"z":var r=-a.date.getTimezoneOffset(),i=Math.abs(r)%60,s=Math.floor(r/60);return 10>i&&(i="0"+i),Math.abs(s)<10&&(s="0"+s),s>-1&&(s="+"+s),s+i;case"%":return"%";default:return void 0}}for(var a=this,n="",r=0;r<e.length;r++)"%"===e[r]&&r<e.length-1?(n+=t(e[r+1])||e.substr(r,2),r++):n+=e[r];return n}},datepickr.init=function(e,t){function a(){function e(){var e="datepickr-day";return a.isSameDay(r)&&(e+=" today"),a.isSameDay(P)&&(e+=" selected"),(a.compare(s)<0||a.compare(D)>0)&&(e+=" disabled"),e.length>0&&(e=' class="'+e+'"'),e}for(var t=p,a=t.firstCalendarDay(),n=t.lastCalendarDay(),r=new DPDate,i=t.firstOfMonth(),s=i.compare(k.minDate)<0?k.minDate:i,o=t.lastOfMonth(),D=o.compare(k.maxDate)<0?o:k.maxDate,u="<tr>";u+="<td"+e()+">",u+=a.getDay()+"</td>",!a.isSameDay(n);a.nextDay())a.getDayOfWeek()==DPDate.lastDayOfWeek()&&(u+="</tr><tr>");y.innerHTML=u+"</tr>"}function n(){for(var e=p.firstOfYear(),t=e.compare(k.minDate)<0?k.minDate.getMonth():0,a=p.lastOfYear(),n=0<a.compare(k.maxDate)?k.maxDate.getMonth():11,r="";n>=t;t++)r+='<option value="'+t+'"',p.getMonth()===t&&(r+=" selected"),r+=">"+k.monthNames[t],r+="</option>";return r}function r(){function e(e){var a,n=e[0];return a="-"==n||"+"==n?t+parseInt(e):"c"==n?p.getYear()+parseInt(e.substring(1)):parseInt(e),isNaN(a)?t:a}var t=(new Date).getFullYear(),a=k.yearRange.split(":"),n=e(a[0]),r=e(a[1]||""),i=p.getYear(),s="",o=k.minDate;for(o&&n<o.getYear()&&(n=o.getYear()),o=k.maxDate,o&&r>o.getYear()&&(r=o.getYear());r>=n;n++)s+='<option value="'+n+'"',i===n&&(s+=" selected"),s+=">"+n+"</option>";return s}function i(){p.compare(k.minDate)<0?p=k.minDate.clone():0<p.compare(k.maxDate)&&(p=k.maxDate.clone()),g.innerHTML=k.changeMonth?n():k.monthNames[p.getMonth()],m.innerHTML=k.changeYear?r():p.getYear(),a()}function s(){function t(e,t,a){var n=document.createElement(e);return t.appendChild(n),a&&(n.className="datepickr"+a),n}l=t("div",e.parentNode,"-calendar");var a=t("div",l,"-dates");a.innerHTML='<span class="datepickr-prev-month">&lt;</span><span class="datepickr-next-month">&gt;</span>';var n=k.changeMonth?"select":"span";g=t(n,a,"-current-month"),n=k.changeYear?"select":"span",m=t(n,a,"-current-year");var r=t("div",l,"-wrap"),i=t("table",r);i.innerHTML="<thead><tr><th>"+DPDate.weekdaysInCalendarOrder().join("</th><th>")+"</th></tr></thead>",y=t("tbody",i)}function o(){p.setMonth(parseInt(g.value)),i()}function D(){p.setYear(parseInt(m.value)),i()}function u(t){function a(e){return n.classList.contains(e)}var n=t.target;if(t.preventDefault(),a("datepickr-prev-month"))p.prevMonth(),i();else if(a("datepickr-next-month"))p.nextMonth(),i();else if(a("datepickr-day")&&!a("disabled"))P=p.clone().setDay(parseInt(n.innerHTML,10)),k.altInput&&(k.altInput.value=P.strftime(k.altFormat)),void 0!==e.value&&(e.value=P.strftime(k.dateFormat)),h();else for(;n!==e&&n!==l;)if(n=n.parentNode,null===n){h();break}}function c(e){var t=e.keyCode||e.which;27===t&&h()}function f(){var t="INPUT"===e.nodeName?2:0,a=e.getBoundingClientRect();l.style.left=a.left-t+"px",l.style.top=a.bottom+t+"px",i(),document.addEventListener("click",u),l.classList.add("open")}function h(){document.removeEventListener("click",u),l.classList.remove("open")}function d(t){function a(e,a,n){e[t].call(e,a,n)}t+="EventListener",k.changeMonth&&a(g,"change",o),k.changeYear&&a(m,"change",D),a(e,"click",f),"INPUT"===e.nodeName&&(a(e,"focus",f),a(e,"keypress",c))}var l,y,g,m,p,v=this,M={dateFormat:"%B %e, %Y",altFormat:null,altInput:null,minDate:null,maxDate:null,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",abbreviateMonth:!1},k=M,P=null;return v.destroy=function(){h(),d("remove"),l.parentNode.removeChild(l)}.bind(v),function(){if(e._datepickr&&e._datepickr.destroy(),e._datepickr=v,t){k={};for(var a in M)k[a]=t[a]||M[a]}if(k.altInput&&!k.altFormat&&(k.altFormat=k.dateFormat),k.monthNames=k.abbreviateMonth?DPDate.monthAbbrevs:DPDate.months,e.value)var n=Date.parse(e.value);n&&!isNaN(n)?P=p=new DPDate(n):p=new DPDate,s(),d("add")}(),v};