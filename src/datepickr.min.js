"use strict";function DPDate(e,t,a){this.date=void 0!==a?new Date(e,t,a):void 0!==t?new Date(e,t):void 0!==e?new Date(e):new Date}function datepickr(e,t){function a(e){return new datepickr.init(e,t)}if(e.nodeName)return a(e);for(var n=document.querySelectorAll(e),r=[],i=0;i<n.length;i++)r.push(a(n[i]));return 1===r.length?r[0]:r}DPDate.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DPDate.weekdayAbbrevs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DPDate.months=["January","February","March","April","May","June","July","August","September","October","November","December"],DPDate.monthAbbrevs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DPDate.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],DPDate.firstDayOfWeek=0,DPDate.lastDayOfWeek=function(){return(DPDate.firstDayOfWeek+6)%7},DPDate.weekdaysInCalendarOrder=function(){if(DPDate.firstDayOfWeek<0||7<DPDate.firstDayOfWeek)throw"DPDate.firstDayOfWeek is outside range 0-6 ("+DPDate.firstDayOfWeek+")";var e=DPDate.weekdayAbbrevs;return 0<DPDate.firstDayOfWeek&&(e=e.slice(DPDate.firstDayOfWeek).concat(e.slice(0,DPDate.firstDayOfWeek))),e},DPDate.prototype={clone:function(){return new DPDate(this.date.getTime())},getYear:function(){return this.date.getFullYear()},getMonth:function(){return this.date.getMonth()},getDay:function(){return this.date.getDate()},getDayOfWeek:function(){return this.date.getDay()},setYear:function(e){return this.date.setFullYear(e),this},setMonth:function(e){return this.date.setMonth(e),this},setDay:function(e){return this.date.setDate(e),this},compare:function(e){return e&&e.date&&e.date.getTime?this.date.getTime()-e.date.getTime():null},isSameDay:function(e){return e&&this.getYear()==e.getYear()&&this.getMonth()==e.getMonth()&&this.getDay()==e.getDay()},isLeapYear:function(){var e=this.getYear();return e%4==0&&e%100!=0||e%400==0},daysThisMonth:function(){return 1==this.getMonth()&&this.isLeapYear()?29:DPDate.daysInMonth[this.getMonth()]},nextDay:function(){return this.date.setDate(1+this.getDay()),this},nextMonth:function(){return this.date.setMonth(1+this.getMonth()),this},prevMonth:function(){return this.date.setMonth(this.getMonth()-1),this},firstOfYear:function(){return new DPDate(this.getYear(),0,1)},lastOfYear:function(){return new DPDate(this.getYear(),11,31)},firstOfMonth:function(){return new DPDate(this.date.getTime()).setDay(1)},lastOfMonth:function(){return new DPDate(this.getYear(),this.getMonth(),this.daysThisMonth())},firstCalendarDay:function(){var e=this.firstOfMonth(),t=(e.getDayOfWeek()+DPDate.firstDayOfWeek)%(DPDate.firstDayOfWeek+7);return t>DPDate.firstDayOfWeek&&e.setDay(e.getDay()-(t-DPDate.firstDayOfWeek)),e},lastCalendarDay:function(){var e=this.lastOfMonth(),t=DPDate.firstDayOfWeek+6,a=(e.getDayOfWeek()+DPDate.firstDayOfWeek)%(DPDate.firstDayOfWeek+7);return a<t&&e.setDay(e.getDay()+(t-a)),e},strftime:function(e){var s=this;function t(e){switch(e){case"A":return DPDate.weekdays[s.getDayOfWeek()];case"a":return DPDate.weekdayAbbrevs[s.getDayOfWeek()];case"B":return DPDate.months[s.getMonth()];case"b":return DPDate.monthAbbrevs[s.getMonth()];case"d":return(a=s.getDay())<10?"0"+a:a;case"e":return(a=s.getDay())<10?" "+a:a;case"m":var t=1+s.getMonth();return t<10?"0"+t:t;case"s":return Math.round(s.date.getTime()/1e3);case"u":var a;return 0==(a=s.getDayOfWeek())?7:a;case"w":return s.getDayOfWeek();case"Y":return s.getYear();case"y":return s.date.getFullYear().toString().substr(2);case"z":var n=-s.date.getTimezoneOffset(),r=Math.abs(n)%60,i=Math.floor(n/60);return r<10&&(r="0"+r),Math.abs(i)<10&&(i="0"+i),-1<i&&(i="+"+i),i+r;case"%":return"%";default:return}}for(var a="",n=0;n<e.length;n++)"%"===e[n]&&n<e.length-1?(a+=t(e[n+1])||e.substr(n,2),n++):a+=e[n];return a}},datepickr.init=function(i,a){var s,c,o,D,h,n=this,r={dateFormat:"%B %e, %Y",altFormat:null,altInput:null,minDate:null,maxDate:null,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",abbreviateMonth:!1},f=r,d=null;function u(){h.compare(f.minDate)<0?h=f.minDate.clone():0<h.compare(f.maxDate)&&(h=f.maxDate.clone()),o.innerHTML=f.changeMonth?function(){for(var e=h.firstOfYear().compare(f.minDate)<0?f.minDate.getMonth():0,t=0<h.lastOfYear().compare(f.maxDate)?f.maxDate.getMonth():11,a="";e<=t;e++)a+='<option value="'+e+'"',h.getMonth()===e&&(a+=" selected"),a+=">"+f.monthNames[e],a+="</option>";return a}():f.monthNames[h.getMonth()],D.innerHTML=f.changeYear?function(){function e(e){var t,a=e[0];return t="-"==a||"+"==a?n+parseInt(e):"c"==a?h.getYear()+parseInt(e.substring(1)):parseInt(e),isNaN(t)?n:t}var n=(new Date).getFullYear(),t=f.yearRange.split(":"),a=e(t[0]),r=e(t[1]||""),i=h.getYear(),s="",o=f.minDate;for(o&&a<o.getYear()&&(a=o.getYear()),(o=f.maxDate)&&r>o.getYear()&&(r=o.getYear());a<=r;a++)s+='<option value="'+a+'"',i===a&&(s+=" selected"),s+=">"+a+"</option>";return s}():h.getYear(),function(){for(var e,t=h,a=t.firstCalendarDay(),n=t.lastCalendarDay(),r=new DPDate,i=t.firstOfMonth(),s=i.compare(f.minDate)<0?f.minDate:i,o=t.lastOfMonth(),D=o.compare(f.maxDate)<0?o:f.maxDate,u="<tr>";u+="<td"+(e=void 0,e="datepickr-day",a.isSameDay(r)&&(e+=" today"),a.isSameDay(d)&&(e+=" selected"),(a.compare(s)<0||0<a.compare(D))&&(e+=" disabled"),0<e.length&&(e=' class="'+e+'"'),e)+">",u+=a.getDay()+"</td>",!a.isSameDay(n);a.nextDay())a.getDayOfWeek()==DPDate.lastDayOfWeek()&&(u+="</tr><tr>");c.innerHTML=u+"</tr>"}()}function t(){h.setMonth(parseInt(o.value)),u()}function l(){h.setYear(parseInt(D.value)),u()}function y(e){function t(e,t){e.value=d.strftime(t);var a=new Event("change",{target:e});e.dispatchEvent(a)}var a=e.target;function n(e){return a.classList.contains(e)}if(e.preventDefault(),n("datepickr-prev-month"))h.prevMonth(),u();else if(n("datepickr-next-month"))h.nextMonth(),u();else if(n("datepickr-day")&&!n("disabled"))d=h.clone().setDay(parseInt(a.innerHTML,10)),f.altInput&&t(f.altInput,f.altFormat),void 0!==i.value&&t(i,f.dateFormat),p();else for(;a!==i&&a!==s;)if(null===(a=a.parentNode)){p();break}}function g(e){27===(e.keyCode||e.which)&&p()}function m(){var e="INPUT"===i.nodeName?2:0,t=i.getBoundingClientRect();s.style.left=t.left-e+"px",s.style.top=t.bottom+e+"px",u(),document.addEventListener("click",y),s.classList.add("open")}function p(){document.removeEventListener("click",y),s.classList.remove("open")}function v(n){function e(e,t,a){e[n].call(e,t,a)}n+="EventListener",f.changeMonth&&e(o,"change",t),f.changeYear&&e(D,"change",l),e(i,"click",m),"INPUT"===i.nodeName&&(e(i,"focus",m),e(i,"keypress",g))}return n.destroy=function(){p(),v("remove"),s.parentNode.removeChild(s)}.bind(n),function(){if(i._datepickr&&i._datepickr.destroy(),i._datepickr=n,a)for(var e in f={},r)f[e]=a[e]||r[e];if(f.altInput&&!f.altFormat&&(f.altFormat=f.dateFormat),f.monthNames=f.abbreviateMonth?DPDate.monthAbbrevs:DPDate.months,i.value)var t=Date.parse(i.value);t&&!isNaN(t)?d=h=new DPDate(t):h=new DPDate,function(){function e(e,t,a){var n=document.createElement(e);return t.appendChild(n),a&&(n.className="datepickr"+a),n}s=e("div",i.parentNode,"-calendar");var t=e("div",s,"-dates");t.innerHTML='<span class="datepickr-prev-month">&lt;</span><span class="datepickr-next-month">&gt;</span>';var a=f.changeMonth?"select":"span";o=e(a,t,"-current-month"),a=f.changeYear?"select":"span",D=e(a,t,"-current-year");var n=e("div",s,"-wrap"),r=e("table",n);r.innerHTML="<thead><tr><th>"+DPDate.weekdaysInCalendarOrder().join("</th><th>")+"</th></tr></thead>",c=e("tbody",r)}(),v("add")}(),n};
